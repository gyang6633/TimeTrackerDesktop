<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="MauiApp3.HomePage"
             x:Name="HomePageInstance">

    <StackLayout Padding="25" Spacing="25">
        <!-- Week Range Display Label -->
        <Label Text="{Binding WeekRangeDisplay, StringFormat='Week of {0}'}" 
               HorizontalOptions="Center" 
               FontAttributes="Bold"
               FontSize="Medium" />

        <!-- Calendar/Week Picker Section -->
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <!-- Previous Week Button -->
            <Button x:Name="PreviousWeekButton"
                    Text="Previous Week" 
                    Command="{Binding PreviousWeekCommand}" 
                    Grid.Column="0" />

            <!-- Date Picker for Selecting the Week's Start Date -->
            <DatePicker x:Name="WeekStartDatePicker"
                        Date="{Binding SelectedWeekStartDate, Mode=TwoWay}"
                        Grid.Column="1"
                        HorizontalOptions="Center" />

            <!-- Next Week Button -->
            <Button x:Name="NextWeekButton"
                    Text="Next Week" 
                    Command="{Binding NextWeekCommand}" 
                    Grid.Column="2" />
        </Grid>

         <CollectionView ItemsSource="{Binding UserGroups}" Margin="20">
        <CollectionView.ItemTemplate>
            <DataTemplate>
                <Grid Padding="10" ColumnDefinitions="*,*,*,*,*">
                    <Label Grid.Column="0" Text="{Binding netID}" />
                    <Label Grid.Column="1" Text="{Binding role}" />
                    <Label Grid.Column="2" Text="{Binding group}" />
                    <Label Grid.Column="3" Text="{Binding firstName}" />
                    <Label Grid.Column="4" Text="{Binding lastName}" />
                </Grid>
            </DataTemplate>
        </CollectionView.ItemTemplate>
    </CollectionView>


        <!-- Section Picker -->
        <Picker Title="Select Class Section" 
                ItemsSource="{Binding Sections}" 
                ItemDisplayBinding="{Binding SectionName}" 
                SelectedItem="{Binding SelectedSection}" />

        <!-- Debug label to verify selected section
        <Label Text="{Binding SelectedSection.SectionName}"
           HorizontalOptions="Center"
           FontAttributes="Italic"
           FontSize="Small"
           TextColor="Gray" /> -->
        

        <!-- Student Hours Grid -->
        <Grid x:Name="StudentHoursGrid" Padding="10">
            <!-- The student hours grid will be populated dynamically from code-behind -->
        </Grid>
    </StackLayout>
</ContentPage>
